<meta charset='utf8'> <!-- 文字コード -->
<meta name='viewport' content='width=device-width'> <!-- スマホ対応 -->

<!--Bootstrap４に必要なCSSとJavaScriptを読み込み-->
<link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css' integrity='sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO' crossorigin='anonymous'>
<script src='https://code.jquery.com/jquery-3.3.1.slim.min.js' integrity='sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo' crossorigin='anonymous'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js' integrity='sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49' crossorigin='anonymous'></script>
<script src='https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js' integrity='sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy' crossorigin='anonymous'></script>

<link href='https://use.fontawesome.com/releases/v5.6.1/css/all.css' rel='stylesheet'> <!-- Font Awesome -->
<!-- <script src='https://code.jquery.com/jquery-3.3.1.js'></script> --> <!-- jQuery -->



<style>
body{
  background-size: cover; /*背景画像*/
}
section{
  position: relative;
  margin-bottom:15px;
}
textarea{
  width:100%;
  height:200px;
  resize: none; /*右下を消す*/
}

.trash{
  position: absolute;
  right:0; 
  bottom:0;
}

</style>

<body>
<nav class='navbar text-black-50 bg-light'>
	<div class='container'>
		<h3>捨てメモ</h3>
	</div>
</nav>

<div class='container my-3'>
  <div id='bigarea'></div> <!-- 大枠 この中に追加していく -->
  <div class='btn btn-dark' onclick='add()'>新しいメモ　＋</div> <!-- 新規追加ボタン -->
</div>

</body>


<script>

function add() { // 追加の関数

  var section = document.createElement('section') // セクション

  var textbox = document.createElement('textarea') // テキストエリア
  // textbox.classList.add('textbox',); // ゴミ箱アイコンの為のクラス

  var trash = document.createElement('i') // 削除ボタン
  trash.classList.add('fas', 'fa-trash', 'trash', 'btn', 'btn-lg'); // ゴミ箱アイコンの為のクラス
  trash.onclick = function(e) { // 削除ボタンを押したとき （eは自分自身のelement？）
    removeElement(e) // 削除関数を実行
  }

  var bigarea = document.getElementById('bigarea') // 大枠
  bigarea.appendChild(section) // セクション生成
  section.appendChild(textbox) // テキストエリア生成
  section.appendChild(trash) // ゴミ箱生成
}

function removeElement(e) { // 削除の関数
  var trash = e.target // クリックされたゴミ箱
  var textbox = trash.previousSibling // 前の要素(つまりテキストボックス)
  var section = textbox.parentElement // セクション
  var bigarea = section.parentElement // 大枠
  bigarea.removeChild(section) // セクション消す
}


// 朝と夜で景色が変わる
var time = new Date().getHours() // 現在時刻を取得
if(time <= 4 || time >= 18){ // 夜 18時00分〜4時59分
  document.body.background = 'img/night.jpg' // 背景を夜空に
}else{ // 朝 5時〜17時59分
  document.body.background = 'img/sky.jpg' // 背景を青空に
}

</script>
